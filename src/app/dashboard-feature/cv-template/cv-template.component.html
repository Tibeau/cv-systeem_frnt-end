<div
  *ngIf="
(mySkills$ | async)?.length !== 0 &&
 (myEducations$ | async)?.length !== 0 &&
 (myExperiences$ | async)?.length !== 0 &&
 (myCertificates$ | async)?.length !== 0 &&
(myLanguages$ | async)?.length !== 0"
  class="max-w-3xl mx-auto mb-4">
  <div class="bg-Jblue drop-shadow-2xl overflow-hidden rounded-2xl border-white border-2 mt-6 mb-4">
    <div class="px-4 py-5 sm:px-6  bg-gradient-to-b from-indigo-500 to-Jblue ">
      <div class="flex justify-between ">

        <button
          class="rounded-xl text-white hover:text-Jorange hover:bg-white"
          printSectionId="myCvId"
          printTitle="{{(myCandidate$ | async)?.firstname}}-{{(myCandidate$ | async)?.lastname}}-CV-Jarchitects"
          ngxPrint
          [useExistingCss]="true"
        >
          <h3 class="text-xl leading-6 font-bold m-2">print</h3>
        </button>


        <form [formGroup]="scaleForm">
          <div class="col-span-2 ">
            <div>
              <h3 class="block text-xl font-medium text-white "> Scale: </h3>
            </div>
            <div class="mt-1">
              <select id="scale" name="scale" (change)="setScale()" formControlName="scale"
                      class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md">
                <option>0.2</option>
                <option>0.3</option>
                <option>0.4</option>
                <option>0.5</option>
                <option>0.6</option>
                <option>0.7</option>
                <option>0.8</option>
                <option>0.9</option>
                <option>1</option>
                <option>1.25</option>
                <option>1.50</option>
                <option>1.75</option>
                <option>2</option>
              </select>
            </div>
          </div>
        </form>


      </div>
    </div>
  </div>
</div>


<div *ngIf="
(mySkills$ | async)?.length == 0 ||
 (myEducations$ | async)?.length == 0 ||
 (myExperiences$ | async)?.length == 0 ||
 (myCertificates$ | async)?.length == 0 ||
(myLanguages$ | async)?.length == 0">
  <div *ngIf="company === false">
    <p>To generate your CV make sure you have at least one element of each section activated </p>
    <p> missing:</p>
    <ul>
      <li *ngIf="(mySkills$ | async)?.length == 0">Skills</li>
      <li *ngIf="(myEducations$ | async)?.length == 0">Educations</li>
      <li *ngIf="(myExperiences$ | async)?.length == 0">Experience</li>
      <li *ngIf="(myCertificates$ | async)?.length == 0">Certificates</li>
      <li *ngIf="(myLanguages$ | async)?.length == 0">Languages</li>
    </ul>
  </div>
  <h1>This candidate hasn't generated a CV or has (an) inactive field(s)</h1>
</div>


<div class=" scroll-container ">
  <div [style.height.px]="height">
    <div id="cv" style="transform-origin:0 0;" [style.transform]="'scale('+scale+')'">

      <div *ngIf="
(mySkills$ | async)?.length !== 0 &&
 (myEducations$ | async)?.length !== 0 &&
 (myExperiences$ | async)?.length !== 0 &&
 (myCertificates$ | async)?.length !== 0 &&
(myLanguages$ | async)?.length !== 0"
           class="container mx-auto px-6 w-[1000px] h-auto mt-6 mb-6" id="myCvId">
        <div class=" border-Jblue border-8 cv text-Jorange font-sm" id="htmltable">
          <div class="grid grid-cols-2 gap-4 mt-6 mb-12">
            <div>
              <img class="ml-12" src="assets/logo_round.png" alt="jarchitects">
            </div>

            <div class="ml-[-120px] mt-4 mr-24">
              <div class="text-white  font-bold grid justify-items-center">
                <h1
                  class="flex text-2xl">{{(myCandidate$ | async)?.firstname}} {{(myCandidate$ | async)?.lastname}}</h1>
                <hr class="flex w-[400px]">
                <p class="">{{(myCandidate$ | async)?.category}}</p>
              </div>
            </div>
          </div>

          <div class="grid grid-cols-2 mt-6">
            <div class="ml-6">
              <h4 class="font-bold mb-4">
                <fa-icon [icon]="faContactCard" transform="grow-7" class="mr-2"></fa-icon>
                Contact info
              </h4>
              <ul class="text-black">
                <li class="mb-2">
                  <fa-icon [icon]="faPhone"></fa-icon>
                  {{(myCandidate$ | async)?.phone}}</li>
                <li class="mb-2 text-xs">
                  <fa-icon [icon]="faMailBulk"></fa-icon>
                  {{(myCandidate$ | async)?.email}}</li>
                <li class="mb-2">
                  <p>
                    <fa-icon [icon]="faLocation"></fa-icon>
                    {{(myCandidate$ | async)?.street}} {{(myCandidate$ | async)?.number}}</p>
                  <p
                    class="font-light text-xs ml-5">{{(myCandidate$ | async)?.postalCode}} {{(myCandidate$ | async)?.city}} {{(myCandidate$ | async)?.country}}</p>
                </li>
                <li class="mb-2">
                  <fa-icon [icon]="faLink"></fa-icon>
                  {{(myCandidate$ | async)?.linkedIn}}</li>
              </ul>
            </div>

            <div class="text-white ml-[-135px] mt-[-40px]   mr-6">
              <h4 class="text-white font-bold">About me</h4>
              <p class="font-light text-xs ">{{(myCandidate$ | async)?.description}}</p>
            </div>
          </div>

          <div class="grid grid-cols-2">
            <div>
              <div class="ml-8 mt-40">
                <h4 class="font-bold">
                  <fa-icon [icon]="faDriversLicense" transform="grow-7" class="mr-2"></fa-icon>
                  Drivers licence
                </h4>
                <p class="text-black ml-14 font-bold">{{(myCandidate$ | async)?.driversLicence}}</p>
              </div>
            </div>
            <div class="text-white mt-[-40px] mr-6">
              <h4 class="text-white font-bold mb-4 ml-[-30px]">
                <fa-icon [icon]="faGraduationCap" transform="grow-7" class="mr-2"></fa-icon>
                Education
              </h4>
              <div class="grid grid-cols-2 gap-4 ">
                <div *ngFor="let education of myEducations$  | async">
                  <a [routerLink]="'/educationform/' + education.id">
                    <h4 class="font-bold hover:bg-white hover:text-Jorange rounded-lg">{{education.diploma}}</h4>
                  </a>
                  <p class="mb-4 font-bold text-sm">{{education.school}}</p>
                  <p class="text-sm"><span class="font-bold">Adress: </span> <span
                    class="font-light">{{education.country}}</span></p>
                  <p class="text-sm"><span class="font-bold">Website: </span> <span
                    class="font-light">{{education.website}}</span></p>
                  <p class="mb-6 text-sm"><span class="font-bold">Field of study: </span> <span
                    class="font-light">{{education.fieldOfStudy}}</span></p>
                </div>
              </div>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <div class="ml-8 mt-48 ">
                <h4 class="font-bold">
                  <fa-icon [icon]="faEarth" transform="grow-7" class="mr-2"></fa-icon>
                  Languages
                </h4>
                <div *ngFor="let language of myLanguages$  | async" class="text-black">
                  <a [routerLink]="'/languageform/' + language.id">
                    <h4 class="font-bold mt-4 hover:bg-white hover:text-Jorange rounded-lg">{{language.name}}</h4>
                  </a>
                  <div *ngIf="!language.nativeLanguage">
                    <p class="text-sm"><span class="font-bold">speaking: </span> <span
                      class="font-light">{{language.speaking}}</span></p>
                    <p class="text-sm"><span class="font-bold">reading: </span> <span
                      class="font-light">{{language.reading}}</span></p>
                    <p class="text-sm"><span class="font-bold">writing: </span> <span
                      class="font-light">{{language.writing}}</span></p>
                  </div>
                  <div *ngIf="language.nativeLanguage">
                    <p class="text-sm leading-6 font-bold">Native language</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="text-white mr-6 mt-6">
              <h4 class="text-white font-bold mb-4 ml-[-30px]">
                <fa-icon [icon]="faCertificate" transform="grow-7" class="mr-2"></fa-icon>
                Certificates
              </h4>
              <div class="grid grid-cols-2 gap-4 ">
                <div *ngFor="let certificate of myCertificates$  | async">
                  <a [routerLink]="'/certificateform/' + certificate.id">
                    <h4 class="font-bold hover:bg-white hover:text-Jorange rounded-lg">{{certificate.name}}</h4>
                  </a>
                  <p class="mb-4 font-bold text-sm">{{certificate.description}}</p>
                  <p class="text-sm"><span class="font-bold">date: </span> <span
                    class="font-light">{{certificate.dateEarned}}</span></p>
                  <p class="text-sm"><span class="font-bold">length: </span> <span
                    class="font-light">{{certificate.length}}</span></p>
                </div>
              </div>
            </div>
          </div>


          <div class="grid grid-cols-2 gap-4 mt-12">
            <div>
              <div class="ml-8">
              </div>
            </div>
            <div class="text-white mr-6 mt-6">
              <h4 class="text-white font-bold mb-4 ml-[-30px] mt-[-140px]">
                <fa-icon [icon]="faBriefcase" transform="grow-7" class="mr-2"></fa-icon>
                Experience
              </h4>
              <div class="grid grid-cols-2 gap-4 ">
                <div *ngFor="let experience of myExperiences$  | async">
                  <a [routerLink]="'/experienceform/' + experience.id">
                    <h4 class="font-bold hover:bg-white hover:text-Jorange rounded-lg">{{experience.profession}}</h4>
                  </a>
                  <p class="mb-4 font-bold text-sm">{{experience.description}}</p>
                  <p class="text-sm"><span class="font-bold">Adress: </span> <span
                    class="font-light">{{experience.employer}}</span></p>
                  <p class="text-sm"><span class="font-bold">Website: </span> <span
                    class="font-light">{{experience.company}}</span></p>
                  <p class="mb-6 text-sm"><span class="font-bold">Field of study: </span> <span
                    class="font-light">{{experience.city}}</span></p>
                </div>
              </div>
            </div>
          </div>


          <div class="grid grid-cols-2 gap-4 mb-[70px]">
            <div>
              <div class="ml-8 mt-[200px]">
                <img class="w-[200px] h-auto" src="assets/jarchitects.png" alt="JARCHITECTS">
              </div>
            </div>
            <div class="text-white mr-6 mt-6">
              <h4 class="text-white font-bold mb-4 ml-[-30px]">
                <fa-icon [icon]="faBrain" transform="grow-7" class="mr-2"></fa-icon>
                Skills
              </h4>
              <div class="grid grid-cols-2 gap-4 ">
                <div *ngFor="let skill of mySkills$  | async">
                  <div class="bg-JorangeSelect rounded-lg">
                  <a [routerLink]="'/skillform/' + skill.id">
                    <h4 class="ml-2 font-bold hover:bg-white hover:text-Jorange rounded-lg">{{skill.name}}: </h4>
                  </a>
                  <p class="mb-4 ml-2 font-bold text-sm">{{skill.description}}</p>
                  <ul *ngFor="let skillItem of skillItems$ | async">
                    <div *ngIf="skillItem.skillId === skill.id" class="mt-4 mb-4 text-sm m-2">
                      <li>-{{skillItem.name}}</li>
                      <li>{{skillItem.description}}</li>
                    </div>
                  </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>



